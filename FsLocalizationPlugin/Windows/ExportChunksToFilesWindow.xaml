<ctrl:FrostyDockableWindow x:Class="FsLocalizationPlugin.Windows.ExportChunksToFilesWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:FsLocalizationPlugin.Windows"
        xmlns:core="clr-namespace:Frosty.Core;assembly=FrostyCore"
        xmlns:ctrl="clr-namespace:Frosty.Controls;assembly=FrostyControls"
        xmlns:fdev="FrostyDeveloper"
        mc:Ignorable="d"
        UseLayoutRounding="True"
        Title="Export Chunks to Files - Flammenwerfer" SizeToContent="Height" MaxHeight="850" Width="400"
        x:Name="exportChunksToFilesWindow"
        WindowStartupLocation="CenterOwner"
                           FontFamily="system-ui, -apple-system, Segoe UI, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji, Arial, Microsoft Yahei, Microsoft JhengHei, Global User Interface"
        >

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/FrostyControls;component/Themes/Generic.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Grid Background="{StaticResource WindowBackground}">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="{StaticResource ListBackground}"/>
        <TextBlock x:Name="NoModifiedLanguageFoundLable" Visibility="Collapsed" Grid.Row="0" Foreground="{StaticResource FontColor}" Margin="5, 10, 5, 10" TextWrapping="WrapWithOverflow" Text="No modified language found. This window is designed to export modified strings. Please close this window."/>
        <StackPanel x:Name="MainStackPanel" Visibility="Visible" Grid.Row="0" Margin="5, 10, 5, 10">
            <WrapPanel Orientation="Horizontal" Margin="3">
                <Label Width="Auto">
                    <Label.Content>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Margin="0, 1, 5, 0" Text="&#xF2B7;" 
                                       FontFamily="Segoe Fluent Icons, Segoe MDL2 Assets" FontSize="14"
                                       RenderOptions.BitmapScalingMode="HighQuality"/>
                            <TextBlock Foreground="{StaticResource FontColor}" Text="Language: "/>
                        </StackPanel>
                    </Label.Content>
                </Label>
                <ComboBox x:Name="LanguageComboBox" MinWidth="140" Width="Auto" Margin="2"
                          ItemsSource="{Binding LanguageOptions}"
                          SelectedItem="{Binding SelectedLanguageOption}"
                          DisplayMemberPath="Language">
                </ComboBox>
            </WrapPanel>

            <StackPanel x:Name="BinaryGrid" Margin="3" Orientation="Vertical">
                <Label Width="Auto">
                    <Label.Content>
                        <StackPanel Orientation="Horizontal">
                            <Image Margin="0, 2, 5, 0" Width="14" Source="/FrostyEditor;component/Images/Database.png"
                                       RenderOptions.BitmapScalingMode="HighQuality"/>
                            <TextBlock Foreground="{StaticResource FontColor}" Text="Binary Strings: "/>
                        </StackPanel>
                    </Label.Content>
                </Label>

                <WrapPanel Orientation="Vertical" Margin="15, 0, 0, 0">
                    <WrapPanel Orientation="Horizontal" Margin="3, 0, 3, 0">
                        <Label Width="Auto">
                            <Label.Content>
                                <StackPanel Orientation="Horizontal">
                                    <Image Margin="0, 1, 5, 0" Width="14" Source="/FrostyEditor;component/Images/Export.png"
                                        RenderOptions.BitmapScalingMode="HighQuality"/>
                                    <TextBlock Foreground="{StaticResource FontColor}" Text="Export: "/>
                                </StackPanel>
                            </Label.Content>
                        </Label>
                        <CheckBox Margin="0, 2, 0, 2" HorizontalAlignment="Center" VerticalAlignment="Center"
                                  IsChecked="{Binding SelectedLanguageOption.ExportBinary, RelativeSource={RelativeSource AncestorType=Window}, Mode=TwoWay}"/>
                    </WrapPanel>
                    <WrapPanel Orientation="Horizontal" Margin="3, 0, 3, 0" IsEnabled="{Binding SelectedLanguageOption.ExportBinary, RelativeSource={RelativeSource AncestorType=Window}}">
                        <Label Width="Auto">
                            <Label.Content>
                                <StackPanel Orientation="Horizontal">
                                    <Image Margin="0, 1, 5, 0" Width="14" Source="/FrostyCore;component/Images/Assets/BlankFileType.png"
                                        RenderOptions.BitmapScalingMode="HighQuality"/>
                                    <TextBlock Foreground="{StaticResource FontColor}" Text="Path: "/>
                                </StackPanel>
                            </Label.Content>
                        </Label>
                        <Button Padding="6, 3, 6, 3" Margin="0, 2, 0, 2" Width="Auto" Click="BrowsePathButton_Click" Tag="Binary">
                            <Button.Content>
                                <StackPanel Orientation="Horizontal">
                                    <Image Margin="0, 1, 5, 0" Width="14" Source="/FrostyEditor;component/Images/Open.png"
                                        RenderOptions.BitmapScalingMode="HighQuality"/>
                                    <TextBlock Foreground="{StaticResource FontColor}" Text="Browse"/>
                                </StackPanel>
                            </Button.Content>
                        </Button>
                        <TextBox Padding="2.5" Margin="2" Width="Auto"
                            BorderThickness="1"
                            Text="{Binding SelectedLanguageOption.BinaryPath, RelativeSource={RelativeSource AncestorType=Window}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            AcceptsTab="False"
                            AcceptsReturn="False"
                            AutoWordSelection="False"
                            VerticalScrollBarVisibility="Disabled" 
                            HorizontalScrollBarVisibility="Disabled"
                            >
                        </TextBox>
                    </WrapPanel>
                </WrapPanel>

            </StackPanel>
            
            <StackPanel x:Name="HistogramGrid" Margin="3" Orientation="Vertical">
                <Label Width="Auto">
                    <Label.Content>
                        <StackPanel Orientation="Horizontal">
                            <Image Margin="0, 2, 5, 0" Width="14" Source="/FrostyEditor;component/Images/Grid.png"
                       RenderOptions.BitmapScalingMode="HighQuality"/>
                            <TextBlock Foreground="{StaticResource FontColor}" Text="Histogram: "/>
                        </StackPanel>
                    </Label.Content>
                </Label>

                <WrapPanel Orientation="Vertical" Margin="15, 0, 0, 0">
                    <WrapPanel Orientation="Horizontal" Margin="3, 0, 3, 0">
                        <Label Width="Auto">
                            <Label.Content>
                                <StackPanel Orientation="Horizontal">
                                    <Image Margin="0, 1, 5, 0" Width="14" Source="/FrostyEditor;component/Images/Export.png"
                            RenderOptions.BitmapScalingMode="HighQuality"/>
                                    <TextBlock Foreground="{StaticResource FontColor}" Text="Export: "/>
                                </StackPanel>
                            </Label.Content>
                        </Label>
                        <CheckBox Margin="0, 2, 0, 2" HorizontalAlignment="Center" VerticalAlignment="Center"
                                  IsChecked="{Binding SelectedLanguageOption.ExportHistogram, RelativeSource={RelativeSource AncestorType=Window}, Mode=TwoWay}"/>
                    </WrapPanel>
                    <WrapPanel Orientation="Horizontal" Margin="3, 0, 3, 0" IsEnabled="{Binding SelectedLanguageOption.ExportHistogram, RelativeSource={RelativeSource AncestorType=Window}}">
                        <Label Width="Auto">
                            <Label.Content>
                                <StackPanel Orientation="Horizontal">
                                    <Image Margin="0, 1, 5, 0" Width="14" Source="/FrostyCore;component/Images/Assets/BlankFileType.png"
                            RenderOptions.BitmapScalingMode="HighQuality"/>
                                    <TextBlock Foreground="{StaticResource FontColor}" Text="Path: "/>
                                </StackPanel>
                            </Label.Content>
                        </Label>
                        <Button Padding="6, 3, 6, 3" Margin="0,2,0,2" Width="Auto" Click="BrowsePathButton_Click" Tag="Histogram">
                            <Button.Content>
                                <StackPanel Orientation="Horizontal">
                                    <Image Margin="0, 1, 5, 0" Width="14" Source="/FrostyEditor;component/Images/Open.png"
                            RenderOptions.BitmapScalingMode="HighQuality"/>
                                    <TextBlock Foreground="{StaticResource FontColor}" Text="Browse"/>
                                </StackPanel>
                            </Button.Content>
                        </Button>
                        <TextBox Padding="2.5" Margin="2" Width="Auto"
                BorderThickness="1"
                Text="{Binding SelectedLanguageOption.HistogramPath, RelativeSource={RelativeSource AncestorType=Window}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                AcceptsTab="False"
                AcceptsReturn="False"
                AutoWordSelection="False"
                VerticalScrollBarVisibility="Disabled" 
                HorizontalScrollBarVisibility="Disabled"
                >
                        </TextBox>
                    </WrapPanel>
                </WrapPanel>

            </StackPanel>
        </StackPanel>

        <Grid Grid.Row="1" Height="38">
            <Grid Margin="5">
                <DockPanel LastChildFill="False">
                    <Button x:Name="CancelButton" Padding="6, 3, 6, 3" Margin="3" DockPanel.Dock="Left" Width="Auto" Click="CancelButton_Click">
                        <Button.Content>
                            <StackPanel Orientation="Horizontal">
                                <Image Margin="0, 1, 5, 0" Width="14" Source="/FrostyControls;component/Images/Clear.png"
                                   RenderOptions.BitmapScalingMode="HighQuality"/>
                                <TextBlock Foreground="{StaticResource FontColor}" Text="Cancel"/>
                            </StackPanel>
                        </Button.Content>
                    </Button>

                    <Button x:Name="ConfirmButton" Padding="6, 3, 6, 3" Margin="3" DockPanel.Dock="Right" Width="Auto" Click="ConfirmButton_Click" 
                            IsEnabled="{Binding CanExport}">
                        <Button.Content>
                            <StackPanel Orientation="Horizontal">
                                <Image Margin="0, 1, 5, 0" Width="14" Source="/FrostyEditor;component/Images/Export.png"
                                   RenderOptions.BitmapScalingMode="HighQuality"/>
                                <TextBlock Foreground="{StaticResource FontColor}" Text="Export"/>
                            </StackPanel>
                        </Button.Content>
                    </Button>

                    <Button x:Name="StartOverButton" Padding="6, 3, 6, 3" Margin="3" DockPanel.Dock="Right" Width="Auto" Click="StartOverButton_Click">
                        <Button.Content>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Margin="0, 1, 5, 0" Text="&#xe72c;" 
                                       FontFamily="Segoe Fluent Icons, Segoe MDL2 Assets" FontSize="14"
                                       RenderOptions.BitmapScalingMode="HighQuality"/>
                                <TextBlock Foreground="{StaticResource FontColor}" Text="Start Over"/>
                            </StackPanel>
                        </Button.Content>
                    </Button>

                </DockPanel>
            </Grid>
        </Grid>

    </Grid>
</ctrl:FrostyDockableWindow>
